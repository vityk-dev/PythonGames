# –£—Ä–æ–∫: –°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å—ñ–≤ —Ç–∞ –¥–≤–µ—Ä—ñ –∑ –∫–ª—é—á–∞–º–∏

## üìã –ü–ª–∞–Ω —É—Ä–æ–∫—É

1. [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –¥–≤–µ—Ä–µ–π](#—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-—Å–∏—Å—Ç–µ–º–∏-–¥–≤–µ—Ä–µ–π)
2. [–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–ª—é—á—ñ–≤](#–ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è-—Å–∏—Å—Ç–µ–º–∏-–∫–ª—é—á—ñ–≤)
3. [–°–∏—Å—Ç–µ–º–∞ power-ups](#—Å–∏—Å—Ç–µ–º–∞-power-ups)
4. [–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –≥—Ä—É](#—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-–≤-–≥—Ä—É)
5. [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –º–µ—Ö–∞–Ω—ñ–∫–∏](#—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è-–Ω–æ–≤–æ—ó-–º–µ—Ö–∞–Ω—ñ–∫–∏)

---

## –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –¥–≤–µ—Ä–µ–π

### –ú–µ—Ç–∞: –î–≤–µ—Ä—ñ —â–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è –∫–æ–ª–∏ –º–∞—î—à –∫–ª—é—á—ñ

#### –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è:
- –î–≤–µ—Ä—ñ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –ø–æ–∫–∏ –Ω–µ –∑—ñ–±—Ä–∞–Ω—ñ –≤—Å—ñ –∫–ª—é—á—ñ
- –í—ñ–∑—É–∞–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É (–≤—ñ–¥–∫—Ä–∏—Ç–æ/–∑–∞–∫—Ä–∏—Ç–æ)
- –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ñ –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ –¥–≤–µ—Ä–∏–º–∞

#### –ö–æ–¥ –∫–ª–∞—Å—É Door:

```python
class Door:
    def __init__(self, x, y, keys_required=2):
        self.rect = pygame.Rect(x, y, 30, 40)
        self.keys_required = keys_required
        self.is_open = False
        self.color_closed = (139, 69, 19)  # –ö–æ—Ä–∏—á–Ω–µ–≤–∏–π
        self.color_open = (0, 255, 0)     # –ó–µ–ª–µ–Ω–∏–π
    
    def update(self, keys_collected):
        """–û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω –¥–≤–µ—Ä–µ–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∑—ñ–±—Ä–∞–Ω–∏—Ö –∫–ª—é—á—ñ–≤"""
        if keys_collected >= self.keys_required:
            self.is_open = True
        else:
            self.is_open = False
    
    def can_pass_through(self):
        """–ß–∏ –º–æ–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ –∫—Ä—ñ–∑—å –¥–≤–µ—Ä—ñ"""
        return self.is_open
    
    def draw(self, screen):
        """–ú–∞–ª—é—î –¥–≤–µ—Ä—ñ"""
        # –û—Å–Ω–æ–≤–Ω—ñ –¥–≤–µ—Ä—ñ
        color = self.color_open if self.is_open else self.color_closed
        pygame.draw.rect(screen, color, self.rect)
        
        # –†–∞–º–∫–∞
        pygame.draw.rect(screen, BLACK, self.rect, 2)
        
        # –†—É—á–∫–∞
        handle_color = YELLOW if self.is_open else GRAY
        pygame.draw.circle(screen, handle_color, 
                          (self.rect.right - 8, self.rect.centery), 3)
        
        # –¢–µ–∫—Å—Ç —Å—Ç–∞–Ω—É
        font = pygame.font.Font(None, 24)
        if self.is_open:
            text = font.render("–í–Ü–î–ö–†–ò–¢–û", True, WHITE)
            screen.blit(text, (self.rect.x - 10, self.rect.y - 25))
        else:
            text = font.render(f"–ü–æ—Ç—Ä—ñ–±–Ω–æ {self.keys_required} –∫–ª—é—á—ñ–≤", True, RED)
            screen.blit(text, (self.rect.x - 20, self.rect.y - 25))
```

---

## –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–ª—é—á—ñ–≤

### –ú–µ—Ç–∞: –Ü–Ω–≤–µ–Ω—Ç–∞—Ä –∫–ª—é—á—ñ–≤ —Ç–∞ –∫—Ä–∞—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å

#### –£–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–∏–π –∫–ª–∞—Å –∫–ª—é—á–∞:

```python
class Key:
    def __init__(self, x, y, key_type="gold", door_id=None):
        self.rect = pygame.Rect(x, y, 15, 15)
        self.key_type = key_type
        self.door_id = door_id  # –î–æ —è–∫–æ—ó –¥–≤–µ—Ä—ñ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
        self.collected = False
        
        # –ö–æ–ª—å–æ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–ª—é—á—ñ–≤
        self.colors = {
            "gold": YELLOW,
            "silver": (192, 192, 192),
            "red": RED,
            "green": GREEN,
            "blue": BLUE,
            "master": (255, 215, 0)  # –ó–æ–ª–æ—Ç–∏–π - –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –≤—Å—ñ—Ö –¥–≤–µ—Ä–µ–π
        }
        self.color = self.colors.get(key_type, YELLOW)
    
    def collect(self):
        """–ó–±–∏—Ä–∞—î –∫–ª—é—á"""
        if not self.collected:
            self.collected = True
            return True
        return False
    
    def draw(self, screen):
        """–ú–∞–ª—é—î –∫–ª—é—á —è–∫—â–æ –≤—ñ–Ω –Ω–µ –∑—ñ–±—Ä–∞–Ω–∏–π"""
        if not self.collected:
            # –û—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–ª—é—á–∞
            pygame.draw.rect(screen, self.color, self.rect)
            
            # –î–µ—Ç–∞–ª—ñ –∫–ª—é—á–∞
            pygame.draw.circle(screen, BLACK, 
                             (self.rect.centerx, self.rect.y + 3), 2)
            
            # –ó—É–±—Ü—ñ –∫–ª—é—á–∞
            pygame.draw.rect(screen, BLACK, 
                           (self.rect.right - 3, self.rect.bottom - 5, 2, 3))
```

#### –°–∏—Å—Ç–µ–º–∞ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è:

```python
class KeyInventory:
    def __init__(self):
        self.keys = []  # –°–ø–∏—Å–æ–∫ –∑—ñ–±—Ä–∞–Ω–∏—Ö –∫–ª—é—á—ñ–≤
        self.total_collected = 0
    
    def add_key(self, key):
        """–î–æ–¥–∞—î –∫–ª—é—á –¥–æ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è"""
        self.keys.append(key)
        self.total_collected += 1
        print(f"–î–æ–¥–∞–Ω–æ {key.key_type} –∫–ª—é—á! –í—Å—å–æ–≥–æ: {self.total_collected}")
    
    def has_key_for_door(self, door_id):
        """–ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —î –∫–ª—é—á –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –¥–≤–µ—Ä—ñ"""
        for key in self.keys:
            if key.door_id == door_id or key.key_type == "master":
                return True
        return False
    
    def get_total_keys(self):
        """–ü–æ–≤–µ—Ä—Ç–∞—î –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—é—á—ñ–≤"""
        return self.total_collected
    
    def draw_inventory(self, screen, x, y):
        """–ú–∞–ª—é—î —ñ–Ω–≤–µ–Ω—Ç–∞—Ä –Ω–∞ –µ–∫—Ä–∞–Ω—ñ"""
        font = pygame.font.Font(None, 24)
        
        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
        title = font.render("–Ü–Ω–≤–µ–Ω—Ç–∞—Ä –∫–ª—é—á—ñ–≤:", True, BLACK)
        screen.blit(title, (x, y))
        
        # –ü–æ–∫–∞–∑—É—î–º–æ –∑—ñ–±—Ä–∞–Ω—ñ –∫–ª—é—á—ñ
        for i, key in enumerate(self.keys):
            key_rect = pygame.Rect(x + i * 20, y + 25, 15, 15)
            pygame.draw.rect(screen, key.color, key_rect)
            pygame.draw.rect(screen, BLACK, key_rect, 1)
```

---

## –°–∏—Å—Ç–µ–º–∞ Power-ups

### –ú–µ—Ç–∞: –¢–∏–º—á–∞—Å–æ–≤—ñ —Ç–∞ –ø–æ—Å—Ç—ñ–π–Ω—ñ –±–æ–Ω—É—Å–∏

#### –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å PowerUp:

```python
class PowerUp:
    def __init__(self, x, y, power_type, duration=5000):  # 5 —Å–µ–∫—É–Ω–¥
        self.rect = pygame.Rect(x, y, 20, 20)
        self.power_type = power_type
        self.duration = duration  # –í –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö
        self.collected = False
        
        # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤
        self.configs = {
            "speed": {
                "color": (0, 255, 255),  # –ë–ª–∞–∫–∏—Ç–Ω–∏–π
                "symbol": "S",
                "description": "–®–≤–∏–¥–∫—ñ—Å—Ç—å x2"
            },
            "shield": {
                "color": (255, 215, 0),  # –ó–æ–ª–æ—Ç–∏–π
                "symbol": "üõ°",
                "description": "–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤–æ—Ä–æ–≥—ñ–≤"
            },
            "ghost": {
                "color": (128, 128, 128, 100),  # –ü—Ä–æ–∑–æ—Ä–∏–π —Å—ñ—Ä–∏–π
                "symbol": "G",
                "description": "–ü—Ä–æ—Ö—ñ–¥ –∫—Ä—ñ–∑—å —Å—Ç—ñ–Ω–∏"
            },
            "life": {
                "color": (255, 20, 147),  # –†–æ–∂–µ–≤–∏–π
                "symbol": "+",
                "description": "–î–æ–¥–∞—Ç–∫–æ–≤–µ –∂–∏—Ç—Ç—è"
            },
            "freeze": {
                "color": (173, 216, 230),  # –°–≤—ñ—Ç–ª–æ-–±–ª–∞–∫–∏—Ç–Ω–∏–π
                "symbol": "F",
                "description": "–ó–∞–º–æ—Ä–æ–∂—É—î –≤–æ—Ä–æ–≥—ñ–≤"
            }
        }
        
        self.config = self.configs.get(power_type, self.configs["speed"])
    
    def collect(self):
        """–ó–±–∏—Ä–∞—î power-up"""
        if not self.collected:
            self.collected = True
            return True
        return False
    
    def draw(self, screen):
        """–ú–∞–ª—é—î power-up"""
        if not self.collected:
            # –û—Å–Ω–æ–≤–Ω–∏–π –∫—Ä—É–≥
            pygame.draw.circle(screen, self.config["color"], 
                             self.rect.center, 10)
            
            # –†–∞–º–∫–∞
            pygame.draw.circle(screen, BLACK, self.rect.center, 10, 2)
            
            # –°–∏–º–≤–æ–ª
            font = pygame.font.Font(None, 16)
            symbol = font.render(self.config["symbol"], True, BLACK)
            symbol_rect = symbol.get_rect(center=self.rect.center)
            screen.blit(symbol, symbol_rect)
```

#### –ú–µ–Ω–µ–¥–∂–µ—Ä –∞–∫—Ç–∏–≤–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤:

```python
class EffectManager:
    def __init__(self):
        self.active_effects = {}  # {effect_type: end_time}
    
    def add_effect(self, effect_type, duration):
        """–î–æ–¥–∞—î —Ç–∏–º—á–∞—Å–æ–≤–∏–π –µ—Ñ–µ–∫—Ç"""
        end_time = pygame.time.get_ticks() + duration
        self.active_effects[effect_type] = end_time
        print(f"–ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –µ—Ñ–µ–∫—Ç: {effect_type}")
    
    def update(self):
        """–û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω –µ—Ñ–µ–∫—Ç—ñ–≤ (–≤–∏–¥–∞–ª—è—î –∑–∞–∫—ñ–Ω—á–µ–Ω—ñ)"""
        current_time = pygame.time.get_ticks()
        expired_effects = []
        
        for effect_type, end_time in self.active_effects.items():
            if current_time >= end_time:
                expired_effects.append(effect_type)
        
        for effect in expired_effects:
            del self.active_effects[effect]
            print(f"–ï—Ñ–µ–∫—Ç –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è: {effect}")
    
    def has_effect(self, effect_type):
        """–ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –∞–∫—Ç–∏–≤–Ω–∏–π –ø–µ–≤–Ω–∏–π –µ—Ñ–µ–∫—Ç"""
        return effect_type in self.active_effects
    
    def get_remaining_time(self, effect_type):
        """–ü–æ–≤–µ—Ä—Ç–∞—î —á–∞—Å —â–æ –∑–∞–ª–∏—à–∏–≤—Å—è –¥–ª—è –µ—Ñ–µ–∫—Ç—É"""
        if effect_type in self.active_effects:
            remaining = self.active_effects[effect_type] - pygame.time.get_ticks()
            return max(0, remaining)
        return 0
    
    def draw_effects(self, screen, x, y):
        """–ú–∞–ª—é—î –∞–∫—Ç–∏–≤–Ω—ñ –µ—Ñ–µ–∫—Ç–∏"""
        font = pygame.font.Font(None, 24)
        
        if self.active_effects:
            title = font.render("–ê–∫—Ç–∏–≤–Ω—ñ –µ—Ñ–µ–∫—Ç–∏:", True, BLACK)
            screen.blit(title, (x, y))
            
            for i, (effect, end_time) in enumerate(self.active_effects.items()):
                remaining = (end_time - pygame.time.get_ticks()) / 1000
                text = font.render(f"{effect}: {remaining:.1f}—Å", True, BLACK)
                screen.blit(text, (x, y + 25 + i * 20))
```

---

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –≥—Ä—É

### –£–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è Player –∫–ª–∞—Å—É:

```python
class Player:
    def __init__(self, x, y, maze):
        self.rect = pygame.Rect(x, y, 20, 20)
        self.base_speed = 4
        self.speed = self.base_speed
        self.maze = maze
        self.color = BLUE
        self.lives = 3
        
        # –ù–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏
        self.inventory = KeyInventory()
        self.effects = EffectManager()
        self.invincible = False
        self.ghost_mode = False
    
    def move(self, dx, dy):
        """–†—É—Ö –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –µ—Ñ–µ–∫—Ç—ñ–≤"""
        old_pos = self.rect.topleft
        
        # –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ —à–≤–∏–¥–∫—ñ—Å—Ç—å –∑ –µ—Ñ–µ–∫—Ç–∞–º–∏
        actual_speed = self.speed
        if self.effects.has_effect("speed"):
            actual_speed *= 2
        
        # –†—É—Ö–∞—î–º–æ—Å—è
        self.rect.x += dx * (actual_speed / self.base_speed)
        self.rect.y += dy * (actual_speed / self.base_speed)
        
        # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–æ–ª—ñ–∑—ñ—ó (—è–∫—â–æ –Ω–µ –≤ —Ä–µ–∂–∏–º—ñ –ø—Ä–∏–≤–∏–¥–∞)
        if not self.effects.has_effect("ghost"):
            if not self.maze.can_move_to(self.rect):
                self.rect.topleft = old_pos
    
    def collect_powerup(self, powerup):
        """–ó–±–∏—Ä–∞—î power-up —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –µ—Ñ–µ–∫—Ç"""
        if powerup.power_type == "life":
            self.lives += 1
        elif powerup.power_type == "shield":
            self.effects.add_effect("shield", 5000)
        elif powerup.power_type == "speed":
            self.effects.add_effect("speed", 8000)
        elif powerup.power_type == "ghost":
            self.effects.add_effect("ghost", 3000)
        elif powerup.power_type == "freeze":
            self.effects.add_effect("freeze", 4000)
    
    def update(self):
        """–û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞–≤—Ü—è"""
        # –û–Ω–æ–≤–ª—é—î–º–æ –µ—Ñ–µ–∫—Ç–∏
        self.effects.update()
        
        # –û–±—Ä–æ–±–ª—è—î–º–æ –≤–≤–µ–¥–µ–Ω–Ω—è
        keys = pygame.key.get_pressed()
        dx = dy = 0
        
        if keys[pygame.K_LEFT]:
            dx = -self.speed
        if keys[pygame.K_RIGHT]:
            dx = self.speed
        if keys[pygame.K_UP]:
            dy = -self.speed
        if keys[pygame.K_DOWN]:
            dy = self.speed
        
        if dx or dy:
            self.move(dx, dy)
    
    def draw(self, screen):
        """–ú–∞–ª—é—î –≥—Ä–∞–≤—Ü—è –∑ –µ—Ñ–µ–∫—Ç–∞–º–∏"""
        color = self.color
        
        # –ó–º—ñ–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –µ—Ñ–µ–∫—Ç—ñ–≤
        if self.effects.has_effect("shield"):
            color = YELLOW
        elif self.effects.has_effect("ghost"):
            color = (self.color[0], self.color[1], self.color[2], 128)  # –ü—Ä–æ–∑–æ—Ä–∏–π
        
        pygame.draw.rect(screen, color, self.rect)
        
        # –û—á—ñ
        pygame.draw.circle(screen, WHITE, (self.rect.x + 5, self.rect.y + 5), 2)
        pygame.draw.circle(screen, WHITE, (self.rect.x + 15, self.rect.y + 5), 2)
```

### –£–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è Level –∫–ª–∞—Å—É:

```python
class Level:
    def __init__(self, level_number):
        self.level_number = level_number
        self.keys_needed = 2
        self.enemies = []
        self.keys = []
        self.powerups = []  # –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞
        self.door = None    # –î–≤–µ—Ä—ñ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É
        self.completed = False
        
        self.create_level_content()
    
    def create_level_content(self):
        """–°—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è —Ä—ñ–≤–Ω—è"""
        
        if self.level_number == 1:
            print(f"–°—Ç–≤–æ—Ä—é—î–º–æ –†—ñ–≤–µ–Ω—å {self.level_number}: –ë–∞–∑–æ–≤—ñ –º–µ—Ö–∞–Ω—ñ–∫–∏")
            
            # –í–æ—Ä–æ–≥–∏
            self.enemies = [
                {"type": "simple", "x": 100, "y": 200, "direction": 1, 
                 "axis": "horizontal", "speed": 1},
                {"type": "simple", "x": 400, "y": 150, "direction": -1, 
                 "axis": "vertical", "speed": 1}
            ]
            
            # –ö–ª—é—á—ñ
            self.keys = [
                {"x": 300, "y": 100, "type": "gold"},
                {"x": 600, "y": 300, "type": "silver"}
            ]
            
            # Power-ups (–Ω–æ–≤—ñ!)
            self.powerups = [
                {"x": 250, "y": 250, "type": "speed"},
                {"x": 500, "y": 400, "type": "life"}
            ]
            
            # –î–≤–µ—Ä—ñ (–Ω–æ–≤—ñ!)
            self.door = {"x": 750, "y": 280, "keys_required": 2}
            
        elif self.level_number == 2:
            print(f"–°—Ç–≤–æ—Ä—é—î–º–æ –†—ñ–≤–µ–Ω—å {self.level_number}: –ë—ñ–ª—å—à–µ –≤–∏–∫–ª–∏–∫—ñ–≤")
            
            self.enemies = [
                {"type": "simple", "x": 80, "y": 180, "direction": 1, 
                 "axis": "horizontal", "speed": 2},
                {"type": "simple", "x": 350, "y": 120, "direction": -1, 
                 "axis": "vertical", "speed": 2},
                {"type": "simple", "x": 550, "y": 400, "direction": 1, 
                 "axis": "horizontal", "speed": 2}
            ]
            
            self.keys = [
                {"x": 250, "y": 350, "type": "red"},
                {"x": 650, "y": 150, "type": "green"}
            ]
            
            self.powerups = [
                {"x": 200, "y": 300, "type": "shield"},
                {"x": 450, "y": 250, "type": "ghost"},
                {"x": 600, "y": 450, "type": "freeze"}
            ]
            
            self.door = {"x": 750, "y": 280, "keys_required": 2}
            
        elif self.level_number == 3:
            print(f"–°—Ç–≤–æ—Ä—é—î–º–æ –†—ñ–≤–µ–Ω—å {self.level_number}: –§—ñ–Ω–∞–ª—å–Ω–∏–π –≤–∏–∫–ª–∏–∫")
            
            self.enemies = [
                {"type": "simple", "x": 120, "y": 300, "direction": 1, 
                 "axis": "horizontal", "speed": 2},
                {"type": "simple", "x": 450, "y": 200, "direction": -1, 
                 "axis": "vertical", "speed": 2},
                {"type": "chasing", "x": 600, "y": 500, "speed": 1}
            ]
            
            self.keys = [
                {"x": 200, "y": 200, "type": "gold"},
                {"x": 550, "y": 450, "type": "master"}  # –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–ª—é—á
            ]
            
            self.powerups = [
                {"x": 300, "y": 350, "type": "speed"},
                {"x": 400, "y": 300, "type": "shield"},
                {"x": 180, "y": 450, "type": "life"}
            ]
            
            self.door = {"x": 750, "y": 280, "keys_required": 2}
    
    def create_objects(self, maze):
        """–°—Ç–≤–æ—Ä—é—î —Ä–µ–∞–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏ –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó"""
        # –í–æ—Ä–æ–≥–∏
        enemy_objects = []
        for enemy_data in self.enemies:
            if enemy_data["type"] == "simple":
                enemy = SimpleEnemy(
                    enemy_data["x"], enemy_data["y"], maze,
                    enemy_data["direction"], enemy_data["axis"], 
                    enemy_data["speed"]
                )
            elif enemy_data["type"] == "chasing":
                enemy = ChasingEnemy(
                    enemy_data["x"], enemy_data["y"], maze, 
                    enemy_data["speed"]
                )
            enemy_objects.append(enemy)
        
        # –ö–ª—é—á—ñ
        key_objects = []
        for key_data in self.keys:
            key = Key(key_data["x"], key_data["y"], key_data["type"])
            key_objects.append(key)
        
        # Power-ups (–Ω–æ–≤—ñ!)
        powerup_objects = []
        for powerup_data in self.powerups:
            powerup = PowerUp(powerup_data["x"], powerup_data["y"], 
                            powerup_data["type"])
            powerup_objects.append(powerup)
        
        # –î–≤–µ—Ä—ñ (–Ω–æ–≤—ñ!)
        door_object = None
        if self.door:
            door_object = Door(self.door["x"], self.door["y"], 
                             self.door["keys_required"])
        
        return enemy_objects, key_objects, powerup_objects, door_object
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –º–µ—Ö–∞–Ω—ñ–∫–∏

### –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏ –¥–≤–µ—Ä–µ–π:

```python
def test_doors_and_powerups():
    """–¢–µ—Å—Ç –Ω–æ–≤–æ—ó –º–µ—Ö–∞–Ω—ñ–∫–∏"""
    screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
    pygame.display.set_caption("–¢–µ—Å—Ç –¥–≤–µ—Ä–µ–π —Ç–∞ –±–æ–Ω—É—Å—ñ–≤")
    clock = pygame.time.Clock()
    
    # –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç–∏
    maze = Maze()
    player = Player(50, 50, maze)
    
    # –ö–ª—é—á—ñ
    keys = [
        Key(300, 100, "gold"),
        Key(600, 300, "silver")
    ]
    
    # Power-ups
    powerups = [
        PowerUp(250, 250, "speed"),
        PowerUp(400, 400, "shield"),
        PowerUp(150, 300, "life")
    ]
    
    # –î–≤–µ—Ä—ñ
    door = Door(750, 280, 2)
    
    running = True
    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False
        
        # –û–Ω–æ–≤–ª–µ–Ω–Ω—è
        player.update()
        
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–±–æ—Ä—É –∫–ª—é—á—ñ–≤
        for key in keys:
            if not key.collected and key.rect.colliderect(player.rect):
                if key.collect():
                    player.inventory.add_key(key)
        
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–±–æ—Ä—É power-ups
        for powerup in powerups:
            if not powerup.collected and powerup.rect.colliderect(player.rect):
                if powerup.collect():
                    player.collect_powerup(powerup)
        
        # –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–≤–µ—Ä–µ–π
        door.update(player.inventory.get_total_keys())
        
        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥—É —á–µ—Ä–µ–∑ –¥–≤–µ—Ä—ñ
        if door.can_pass_through() and door.rect.colliderect(player.rect):
            print("–ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è!")
            # –¢—É—Ç –±—É–¥–µ –ª–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—É
        
        # –ú–∞–ª—é–≤–∞–Ω–Ω—è
        maze.draw(screen)
        player.draw(screen)
        
        for key in keys:
            key.draw(screen)
        
        for powerup in powerups:
            powerup.draw(screen)
        
        door.draw(screen)
        
        # UI
        player.inventory.draw_inventory(screen, 10, 150)
        player.effects.draw_effects(screen, 10, 200)
        
        pygame.display.flip()
        clock.tick(FPS)
    
    pygame.quit()

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—É
if __name__ == "__main__":
    test_doors_and_powerups()
```

---

## –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –î–æ–¥–∞–π –Ω–æ–≤–∏–π power-up
–°—Ç–≤–æ—Ä–∏ power-up "invisible" —â–æ —Ä–æ–±–∏—Ç—å –≥—Ä–∞–≤—Ü—è –Ω–µ–≤–∏–¥–∏–º–∏–º –¥–ª—è –≤–æ—Ä–æ–≥—ñ–≤ –Ω–∞ 3 —Å–µ–∫—É–Ω–¥–∏.

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ–∫—Ä–∞—â –¥–≤–µ—Ä—ñ
–î–æ–¥–∞–π –∞–Ω—ñ–º–∞—Ü—ñ—é –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –¥–≤–µ—Ä–µ–π (–ø–æ—Å—Ç—É–ø–æ–≤–µ –∑–º—ñ–Ω–∏ –∫–æ–ª—å–æ—Ä—É).

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏
–ü—Ä–∏–¥—É–º–∞–π —Ç–∞ —Ä–µ–∞–ª—ñ–∑—É–π —Å–≤—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π power-up.

---

## –ü—ñ–¥—Å—É–º–æ–∫ —É—Ä–æ–∫—É

**–©–æ –º–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è:**
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –¥–≤–µ—Ä–µ–π –∑ —É–º–æ–≤–∞–º–∏
- –†–æ–±–∏—Ç–∏ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä –¥–ª—è –∫–ª—é—á—ñ–≤
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ power-ups –∑ —Ç–∏–º—á–∞—Å–æ–≤–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏
- –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤—Å–µ –≤ —î–¥–∏–Ω—É —Å–∏—Å—Ç–µ–º—É

**–ù–∞—Å—Ç—É–ø–Ω–∏–π —É—Ä–æ–∫:** –°–∏—Å—Ç–µ–º–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –∑–≤—É–∫—ñ–≤!
